{
    "project": {
        "name": "skylinkcc",
        "description": "Implement Control Center functionalities with SkylinkJS",
        "version": "0.3.0",
        "url": "https://www.temasys.com.sg/"
    },
    "files": {
        "source/skylinkcc.js": {
            "name": "source/skylinkcc.js",
            "modules": {},
            "classes": {
                "SkylinkCC": 1
            },
            "fors": {
                "SkylinkCC": 1
            },
            "namespaces": {}
        }
    },
    "modules": {},
    "classes": {
        "SkylinkCC": {
            "name": "SkylinkCC",
            "shortname": "SkylinkCC",
            "classitems": [],
            "plugins": [],
            "extensions": [],
            "plugin_for": [],
            "extension_for": [],
            "file": "source/skylinkcc.js",
            "line": 7,
            "extends": "Skylink",
            "requires": [
                "Skylink"
            ],
            "description": "SkylinkCC is a implementation from Skyway to create a control center like\nuse-case. Things to take note are:\n- Skyway.init() is required to be called before\n  {{#crossLink \"SkylinkCC/connect:method\"}}connect(){{/crossLink}}\n- To disconnect users from the lobby or the room, call Skyway.leaveRoom()\n  instead.\n- If there's no lobbyRoom specified, 'MAIN' is the main lobby\n- Check out the rest of the other functionalities in the\n  [Skyway documentation](http://cdn.temasys.com.sg/skyway/skywayjs\n  /0.3.1/doc/classes/Skyway.html).",
            "is_constructor": 1,
            "example": [
                "\n  // Getting started on how to use Skyway\n  // Note that init() is still required to be called as init() is to fetch\n  // server connection information.\n  var SkylinkDemo = new SkylinkCC();\n  SkylinkDemo.init({\n    defaultRoom: 'default',\n    apiKey: 'apiKey'\n  });"
            ]
        }
    },
    "classitems": [
        {
            "file": "source/skylinkcc.js",
            "line": 34,
            "description": "Version of SkylinkCC",
            "itemtype": "attribute",
            "name": "VERSION",
            "type": "String",
            "readonly": "",
            "since": "0.1.0",
            "class": "SkylinkCC"
        },
        {
            "file": "source/skylinkcc.js",
            "line": 43,
            "description": "State if User is in lobby room or not",
            "itemtype": "attribute",
            "name": "_in_lobby",
            "type": "Boolean",
            "access": "private",
            "tagname": "",
            "required": 1,
            "since": "0.1.0",
            "class": "SkylinkCC"
        },
        {
            "file": "source/skylinkcc.js",
            "line": 53,
            "description": "The default lobby room.",
            "itemtype": "attribute",
            "name": "_defaultLobbyRoom",
            "type": "String",
            "access": "private",
            "tagname": "",
            "required": 1,
            "since": "0.1.0",
            "class": "SkylinkCC"
        },
        {
            "file": "source/skylinkcc.js",
            "line": 63,
            "description": "The lobby room",
            "itemtype": "attribute",
            "name": "_lobbyRoom",
            "type": "String",
            "default": "_defaultLobbyRoom",
            "access": "private",
            "tagname": "",
            "required": 1,
            "since": "0.1.0",
            "class": "SkylinkCC"
        },
        {
            "file": "source/skylinkcc.js",
            "line": 74,
            "description": "The ready state of the peer's call if they are ready to join the room.",
            "itemtype": "attribute",
            "name": "CALL_READY_STATE",
            "type": "JSON",
            "params": [
                {
                    "name": "LOBBY",
                    "description": "Step 1. Peer is in lobby",
                    "type": "Integer"
                },
                {
                    "name": "REQUEST_CALL",
                    "description": "Step 2. Agent requests to start the call",
                    "type": "Integer"
                },
                {
                    "name": "ACCEPTED_CALL",
                    "description": "Step 3a. Client accepted the call",
                    "type": "Integer"
                },
                {
                    "name": "REJECTED_CALL",
                    "description": "Step 3b. Client rejected the call.",
                    "type": "Integer"
                },
                {
                    "name": "START_CALL",
                    "description": "Step 4. Agent and Client is ready to start the call.",
                    "type": "Integer"
                },
                {
                    "name": "UNKNOWN",
                    "description": "",
                    "type": "Intger"
                }
            ],
            "readonly": "",
            "since": "0.1.0",
            "class": "SkylinkCC"
        },
        {
            "file": "source/skylinkcc.js",
            "line": 95,
            "description": "User object",
            "itemtype": "attribute",
            "name": "_user",
            "type": "JSON",
            "params": [
                {
                    "name": "id",
                    "description": "User Session ID",
                    "type": "String"
                },
                {
                    "name": "peer",
                    "description": "PeerConnection object",
                    "type": "Object"
                },
                {
                    "name": "sid",
                    "description": "User Secret Session ID",
                    "type": "String"
                },
                {
                    "name": "apiOwner",
                    "description": "Owner of the room",
                    "type": "String"
                },
                {
                    "name": "streams",
                    "description": "Array of User's MediaStream",
                    "type": "Array"
                },
                {
                    "name": "timestamp",
                    "description": "User's timestamp",
                    "type": "String"
                },
                {
                    "name": "token",
                    "description": "User access token",
                    "type": "String"
                },
                {
                    "name": "info",
                    "description": "Optional. User information",
                    "type": "JSON",
                    "props": [
                        {
                            "name": "settings",
                            "description": "Peer stream settings",
                            "type": "JSON",
                            "props": [
                                {
                                    "name": "audio",
                                    "description": "",
                                    "type": "Boolean|JSON"
                                },
                                {
                                    "name": "audio.stereo",
                                    "description": "",
                                    "type": "Boolean"
                                },
                                {
                                    "name": "video",
                                    "description": "",
                                    "type": "Boolean|JSON"
                                },
                                {
                                    "name": "video.resolution",
                                    "description": "[Rel: SkylinkCC.VIDEO_RESOLUTION]",
                                    "type": "Bolean|JSON"
                                },
                                {
                                    "name": "video.resolution.width",
                                    "description": "",
                                    "type": "Integer"
                                },
                                {
                                    "name": "video.resolution.height",
                                    "description": "",
                                    "type": "Integer"
                                },
                                {
                                    "name": "video.frameRate",
                                    "description": "",
                                    "type": "Integer"
                                }
                            ]
                        },
                        {
                            "name": "mediaStatus",
                            "description": "Peer stream status.",
                            "type": "JSON",
                            "props": [
                                {
                                    "name": "audioMuted",
                                    "description": "If Peer's Audio stream is muted.",
                                    "type": "Boolean"
                                },
                                {
                                    "name": "videoMuted",
                                    "description": "If Peer's Video stream is muted.",
                                    "type": "Boolean"
                                }
                            ]
                        },
                        {
                            "name": "userData",
                            "description": "Peer custom data",
                            "type": "String|JSON"
                        },
                        {
                            "name": "call",
                            "description": "Peer call status object.",
                            "type": "JSON",
                            "props": [
                                {
                                    "name": "status",
                                    "description": "The current ready state of the user's call.\n  [Rel: SkylinkCC.CALL_READY_STATE]",
                                    "type": "Integer"
                                },
                                {
                                    "name": "targetPeerId",
                                    "description": "PeerId the call to direct to.",
                                    "type": "String"
                                },
                                {
                                    "name": "peerType",
                                    "description": "Peer type [Rel: SkylinkCC.PEER_TYPE]",
                                    "type": "String"
                                },
                                {
                                    "name": "targetRoom",
                                    "description": "The targeted Room to join. Default is\n  info.call.targetPeerId if not specified.",
                                    "type": "String"
                                }
                            ]
                        }
                    ]
                }
            ],
            "required": 1,
            "access": "private",
            "tagname": "",
            "since": "0.1.0",
            "class": "SkylinkCC"
        },
        {
            "file": "source/skylinkcc.js",
            "line": 132,
            "description": "Object to store temporary information",
            "itemtype": "attribute",
            "name": "_temp",
            "type": "Array",
            "access": "private",
            "tagname": "",
            "since": "0.1.0",
            "class": "SkylinkCC"
        },
        {
            "file": "source/skylinkcc.js",
            "line": 141,
            "description": "If peer is agent or customer. Types are:",
            "itemtype": "attribute",
            "name": "PEER_TYPE",
            "type": "JSON",
            "params": [
                {
                    "name": "CUSTOMER",
                    "description": "User is customer",
                    "type": "String"
                },
                {
                    "name": "AGENT",
                    "description": "User is agent",
                    "type": "String"
                }
            ],
            "readonly": "",
            "since": "0.1.0",
            "class": "SkylinkCC"
        },
        {
            "file": "source/skylinkcc.js",
            "line": 155,
            "description": "Connect user to the main lobby.\n- Please call this only after calling Skyway.init().\n- To disconect from the lobby, please call Skyway.leaveRoom().",
            "itemtype": "method",
            "name": "connect",
            "params": [
                {
                    "name": "lobbyRoom",
                    "description": "The lobby all peers connect to before the call starts.",
                    "type": "String"
                },
                {
                    "name": "userData",
                    "description": "The user custom data.",
                    "type": "JSON|String"
                },
                {
                    "name": "peerType",
                    "description": "Deprecated. The peer type [Rel: SkylinkCC.PEER_TYPE].\n  This would be removed from the specs once agent and client is identified\n  from the request url.",
                    "type": "String"
                }
            ],
            "example": [
                "\n  SkylinkDemo.connect('main_lobby', {\n    'displayName': 'Agent Bob',\n    'timeStamp': (new Date()).toISOString,\n    'status': CALL_CENTER.EVENT.STARTING,\n    'UUID': 'XXX-XXX-XXXX'\n  }, SkylinkDemo.PEER_TYPE.AGENT);"
            ],
            "trigger": "peerJoined",
            "required": 1,
            "since": "0.1.0",
            "class": "SkylinkCC"
        },
        {
            "file": "source/skylinkcc.js",
            "line": 202,
            "description": "We just joined a room! Let's send a nice message to all to let them know I'm in.",
            "itemtype": "method",
            "name": "_inRoomHandler",
            "params": [
                {
                    "name": "message",
                    "description": "",
                    "type": "JSON",
                    "props": [
                        {
                            "name": "rid",
                            "description": "RoomId of the connected room.",
                            "type": "String"
                        },
                        {
                            "name": "sid",
                            "description": "PeerId of self.",
                            "type": "String"
                        },
                        {
                            "name": "mid",
                            "description": "PeerId of the peer that is",
                            "type": "String"
                        },
                        {
                            "name": "pc_config",
                            "description": "The peerconnection configuration\n  sending the joinRoom message.",
                            "type": "JSON"
                        },
                        {
                            "name": "type",
                            "description": "The type of message received.",
                            "type": "String"
                        }
                    ]
                }
            ],
            "trigger": "peerJoined",
            "access": "private",
            "tagname": "",
            "since": "0.1.0",
            "class": "SkylinkCC"
        },
        {
            "file": "source/skylinkcc.js",
            "line": 259,
            "description": "Throw an event with the received private message",
            "itemtype": "method",
            "name": "_privateMessageHandler",
            "params": [
                {
                    "name": "message",
                    "description": "The message object.",
                    "type": "JSON",
                    "props": [
                        {
                            "name": "data",
                            "description": "The data broadcasted.",
                            "type": "JSON|String"
                        },
                        {
                            "name": "mid",
                            "description": "PeerId of the peer that sent\n  the call status message.",
                            "type": "String"
                        },
                        {
                            "name": "cid",
                            "description": "CredentialId for the room.",
                            "type": "String"
                        },
                        {
                            "name": "rid",
                            "description": "RoomId of the room peer is connected to.",
                            "type": "String"
                        },
                        {
                            "name": "callStatus",
                            "description": "Is the message a callStatus event.",
                            "type": "String"
                        },
                        {
                            "name": "type",
                            "description": "The type of the message.",
                            "type": "String"
                        }
                    ]
                }
            ],
            "trigger": "privateMessage, peerCallRequest",
            "access": "private",
            "tagname": "",
            "since": "0.1.0",
            "class": "SkylinkCC"
        },
        {
            "file": "source/skylinkcc.js",
            "line": 283,
            "description": "Throw an event with the received private message",
            "itemtype": "method",
            "name": "_publicMessageHandler",
            "params": [
                {
                    "name": "message",
                    "description": "The message object.",
                    "type": "JSON",
                    "props": [
                        {
                            "name": "data",
                            "description": "The data broadcasted.",
                            "type": "JSON|String"
                        },
                        {
                            "name": "mid",
                            "description": "PeerId of the peer that sent\n  the call status message.",
                            "type": "String"
                        },
                        {
                            "name": "cid",
                            "description": "CredentialId for the room.",
                            "type": "String"
                        },
                        {
                            "name": "rid",
                            "description": "RoomId of the room peer is connected to.",
                            "type": "String"
                        },
                        {
                            "name": "callStatus",
                            "description": "Is the message a callStatus event.",
                            "type": "String"
                        },
                        {
                            "name": "type",
                            "description": "The type of the message.",
                            "type": "String"
                        }
                    ]
                }
            ],
            "trigger": "publicMessage, peerCallRequest",
            "access": "private",
            "tagname": "",
            "since": "0.1.0",
            "class": "SkylinkCC"
        },
        {
            "file": "source/skylinkcc.js",
            "line": 307,
            "description": "Handles all call status event changes",
            "itemtype": "method",
            "name": "_callStatusHandler",
            "params": [
                {
                    "name": "targetMid",
                    "description": "PeerId of the peer that sent\n  the call status message.",
                    "type": "String"
                },
                {
                    "name": "message",
                    "description": "The message object.",
                    "type": "JSON",
                    "props": [
                        {
                            "name": "data",
                            "description": "The data broadcasted.",
                            "type": "JSON|String"
                        },
                        {
                            "name": "mid",
                            "description": "PeerId of the peer that sent\n  the call status message.",
                            "type": "String"
                        },
                        {
                            "name": "cid",
                            "description": "CredentialId for the room.",
                            "type": "String"
                        },
                        {
                            "name": "rid",
                            "description": "RoomId of the room peer is connected to.",
                            "type": "String"
                        },
                        {
                            "name": "callStatus",
                            "description": "Is the message a callStatus event.",
                            "type": "String"
                        },
                        {
                            "name": "type",
                            "description": "The type of the message.",
                            "type": "String"
                        }
                    ]
                },
                {
                    "name": "isPrivate",
                    "description": "Is the message a targeted message or not.",
                    "type": "Boolean"
                }
            ],
            "trigger": "peerCallRequest",
            "access": "private",
            "tagname": "",
            "since": "0.1.0",
            "class": "SkylinkCC"
        },
        {
            "file": "source/skylinkcc.js",
            "line": 348,
            "description": "Trigger a event after updating userData.",
            "itemtype": "method",
            "name": "startPeerEvent",
            "params": [
                {
                    "name": "userData",
                    "description": "The peer's updated user data to send over.",
                    "type": "JSON|String"
                },
                {
                    "name": "event",
                    "description": "The event object. Event triggered will only be\n  directed to self.",
                    "type": "JSON",
                    "props": [
                        {
                            "name": "name",
                            "description": "The event to be trigged.",
                            "type": "String"
                        },
                        {
                            "name": "params",
                            "description": "The event params.",
                            "type": "JSON|String|Array"
                        }
                    ]
                }
            ],
            "example": [
                "\n  var userData = SkylinkDemo.getUserData().userData;\n  userData.status = 'newEvent';\n  SkylinkDemo.startPeerEvent(userData, {\n    name: 'newEvent',\n    params: {\n      'startAdvert': true,\n      'UUID': 'XXXX-XXX-XXX'\n    }\n  });\n  SkylinkDemo.on('newEvent', function (params) {\n    // ....\n  });"
            ],
            "trigger": "[customEvent]",
            "since": "0.1.0",
            "class": "SkylinkCC"
        },
        {
            "file": "source/skylinkcc.js",
            "line": 390,
            "description": "Handles all call states.",
            "itemtype": "method",
            "name": "_handleCall",
            "params": [
                {
                    "name": "peerId",
                    "description": "PeerId of the peer to send request to.",
                    "type": "String"
                },
                {
                    "name": "options",
                    "description": "Peer call status object.",
                    "type": "JSON",
                    "props": [
                        {
                            "name": "status",
                            "description": "Peer call status [Rel: SkylinkCC.CALL_STATUS]",
                            "type": "JSON"
                        },
                        {
                            "name": "peerType",
                            "description": "Peer user type [Rel: SkylinkCC.PEER_TYPE]",
                            "type": "Boolean"
                        },
                        {
                            "name": "targetPeerId",
                            "description": "PeerId of the peer the call request\n  is directed to.",
                            "type": "String"
                        },
                        {
                            "name": "targetRoom",
                            "description": "Room that the peer requests to join.",
                            "type": "String"
                        }
                    ]
                },
                {
                    "name": "callback",
                    "description": "Callback function once call message is sent.",
                    "type": "Function"
                }
            ],
            "trigger": "peerCallRequest",
            "access": "private",
            "tagname": "",
            "since": "0.1.0",
            "class": "SkylinkCC"
        },
        {
            "file": "source/skylinkcc.js",
            "line": 440,
            "description": "Step 1: Agent requests to start the call to client",
            "itemtype": "method",
            "name": "agentRequestCall",
            "params": [
                {
                    "name": "clientPeerId",
                    "description": "Client peerId to start call to.",
                    "type": "String"
                },
                {
                    "name": "room",
                    "description": "Room to ask client to join in",
                    "type": "String"
                }
            ],
            "example": [
                "\n  // Example 1: Request call\n  SkylinkDemo.agentRequestCall(peerId);\n\n  // Example 2: Request call with a specific room\n  SkylinkDemo.agentRequestCall(peerId, room);"
            ],
            "trigger": "peerCallRequest",
            "since": "0.1.0",
            "class": "SkylinkCC"
        },
        {
            "file": "source/skylinkcc.js",
            "line": 463,
            "description": "Step 2: Client to accept or reject the call.",
            "itemtype": "method",
            "name": "acceptRequestCall",
            "params": [
                {
                    "name": "agentPeerId",
                    "description": "PeerId of the agent.",
                    "type": "String"
                },
                {
                    "name": "accept",
                    "description": "If client accepts agent request or not.",
                    "type": "Boolean"
                }
            ],
            "example": [
                "\n  SkylinkDemo.on('peerCallRequest', function (peerId, peerInfo, isSelf)) {\n    if (!isSelf) {\n      if (peerInfo.call.status === SkylinkDemo.CALL_STATUS.REQUEST_CALL) {\n        var result = confirm('Do you want to accept the call?');\n        SkylinkDemo.acceptRequestCall(peerId, result);\n      }\n    }\n  });"
            ],
            "trigger": "peerCallRequest",
            "since": "0.1.0",
            "class": "SkylinkCC"
        },
        {
            "file": "source/skylinkcc.js",
            "line": 490,
            "description": "Step 3: Start the call. You may call method\n- \"peerLeft\" would be triggered because user left the lobby room\n- Call Skyway.joinRoom() to start the call.\nRequest a call for agent",
            "itemtype": "method",
            "name": "startRequestCall",
            "params": [
                {
                    "name": "room",
                    "description": "Room to ask client to join in",
                    "type": "String"
                },
                {
                    "name": "callback",
                    "description": "Callback after the room is ready to join",
                    "type": "Function"
                }
            ],
            "return": {
                "description": "Peer information object",
                "type": "JSON"
            },
            "example": [
                "\n  SkylinkDemo.on('peerCallRequest', function (peerId, peerInfo, isSelf)) {\n    if (!isSelf) {\n      if (peerInfo.call.status === SkylinkDemo.CALL_STATUS.START_CALL) {\n        SkylinkDemo.startRequestCall(peerId, function (userInfo, peerInfo) {\n          SkylinkDemo.joinRoom(peerInfo.call.targetRoom, {\n            audio: true,\n            video: true\n          });\n        });\n      }\n    }\n  });"
            ],
            "trigger": "peerCallRequest, peerLeft",
            "since": "0.2.0",
            "class": "SkylinkCC"
        },
        {
            "file": "source/skylinkcc.js",
            "line": 545,
            "description": "Event fired when a peer call request has changed.",
            "itemtype": "event",
            "name": "peerCallRequest",
            "params": [
                {
                    "name": "peerId",
                    "description": "PeerId of the peer that has a call ready state changed.",
                    "type": "String"
                },
                {
                    "name": "peerInfo",
                    "description": "Peer information of the peer",
                    "type": "JSON",
                    "props": [
                        {
                            "name": "settings",
                            "description": "Peer stream settings",
                            "type": "JSON",
                            "props": [
                                {
                                    "name": "audio",
                                    "description": "",
                                    "type": "Boolean|JSON"
                                },
                                {
                                    "name": "audio.stereo",
                                    "description": "",
                                    "type": "Boolean"
                                },
                                {
                                    "name": "video",
                                    "description": "",
                                    "type": "Boolean|JSON"
                                },
                                {
                                    "name": "video.resolution",
                                    "description": "[Rel: Skyway.VIDEO_RESOLUTION]",
                                    "type": "JSON"
                                },
                                {
                                    "name": "video.resolution.width",
                                    "description": "",
                                    "type": "Integer"
                                },
                                {
                                    "name": "video.resolution.height",
                                    "description": "",
                                    "type": "Integer"
                                },
                                {
                                    "name": "video.frameRate",
                                    "description": "",
                                    "type": "Integer"
                                }
                            ]
                        },
                        {
                            "name": "mediaStatus",
                            "description": "Peer stream status.",
                            "type": "JSON",
                            "props": [
                                {
                                    "name": "audioMuted",
                                    "description": "If Peer's audio stream is muted.",
                                    "type": "Boolean"
                                },
                                {
                                    "name": "videoMuted",
                                    "description": "If Peer's video stream is muted.",
                                    "type": "Boolean"
                                }
                            ]
                        },
                        {
                            "name": "userData",
                            "description": "Peer custom data",
                            "type": "String|JSON"
                        },
                        {
                            "name": "call",
                            "description": "Peer call status object.",
                            "type": "JSON",
                            "props": [
                                {
                                    "name": "status",
                                    "description": "Peer call status [Rel: SkylinkCC.CALL_STATUS]",
                                    "type": "Integer"
                                },
                                {
                                    "name": "peerType",
                                    "description": "Peer user type [Rel: SkylinkCC.PEER_TYPE]",
                                    "type": "String"
                                },
                                {
                                    "name": "targetPeerId",
                                    "description": "PeerId of the peer the call request\n  is directed to.",
                                    "type": "String"
                                },
                                {
                                    "name": "targetRoom",
                                    "description": "Room that the peer requests to join.",
                                    "type": "String"
                                }
                            ]
                        }
                    ]
                },
                {
                    "name": "isSelf",
                    "description": "Is the peer self.",
                    "type": "Boolean"
                }
            ],
            "since": "0.1.0",
            "class": "SkylinkCC"
        }
    ],
    "warnings": [
        {
            "message": "param name missing: {Intger}",
            "line": " source/skylinkcc.js:74"
        },
        {
            "message": "unknown tag: trigger",
            "line": " source/skylinkcc.js:155"
        },
        {
            "message": "unknown tag: trigger",
            "line": " source/skylinkcc.js:202"
        },
        {
            "message": "unknown tag: trigger",
            "line": " source/skylinkcc.js:259"
        },
        {
            "message": "unknown tag: trigger",
            "line": " source/skylinkcc.js:283"
        },
        {
            "message": "unknown tag: trigger",
            "line": " source/skylinkcc.js:307"
        },
        {
            "message": "unknown tag: trigger",
            "line": " source/skylinkcc.js:348"
        },
        {
            "message": "unknown tag: trigger",
            "line": " source/skylinkcc.js:390"
        },
        {
            "message": "unknown tag: trigger",
            "line": " source/skylinkcc.js:440"
        },
        {
            "message": "unknown tag: trigger",
            "line": " source/skylinkcc.js:463"
        },
        {
            "message": "unknown tag: trigger",
            "line": " source/skylinkcc.js:490"
        }
    ]
}